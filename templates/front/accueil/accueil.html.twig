{% extends 'baseFront.html.twig' %}

{% block title %}HabiLux{% endblock %}

{% block body %}

<style>
    .about-profile-wrap {
        display: flex;
        gap: 20px; /* Espacement entre les deux photos de profil */
    }

    .about-profile {
        display: flex;
        align-items: center;
        gap: 10px; /* Espacement entre l'image et le texte */
    }

    .avatar-circle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
    }

    .signature-wrap {
        display: flex;
        gap: 20px; /* Espacement entre les photos de signature */
        margin-top: 20px;
    }

    .signature img {
        width: 80px;
        height: auto;
    }

    .user-photo {
    width: 50px; /* Taille de l'avatar */
    height: 50px; /* Taille de l'avatar */
    border-radius: 50%; /* Cette propriété rend l'image circulaire */
    object-fit: cover; /* Cette propriété ajuste l'image pour qu'elle remplisse complètement le cercle sans déformer l'image */
    border: 2px solid #fff; /* Optionnel : ajoute une bordure blanche autour de l'image */
    }

    .offer-tag {
    position: absolute;
    top: 10px;
    left: 10px;
    color: white;
    padding: 5px 10px;
    font-size: 14px;
    font-weight: bold;
    border-radius: 5px;
    text-transform: uppercase;
    z-index: 10;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
    }


    .tag-sale {
        background-color: #ff4d4d; /* Rouge pour "A Vendre" */
    }

    .tag-rent {
        background-color: #f1c643; /* Bleu pour "A Louer" */
    }

    .property-type-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #0099ff; /* Bleu, change selon ton design */
    color: white;
    padding: 5px 10px;
    font-size: 12px;
    font-weight: bold;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    /* Style du badge de prix */
    .price-badge {
    display: inline-block;
    padding: 5px 12px;
    font-size: 14px;
    font-weight: bold;
    border-radius: 5px;
    color: white;
    background-color: #28a745; /* Vert par défaut */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    margin-top: 10px;
    margin-bottom: 10px;
    }

    /* Couleur pour le prix visible */
    .price-visible {
        background-color: #90F3A7FF; /* Vert si prix affiché */
    }

    /* Couleur pour le prix privé */
    .price-hidden {
        background-color: #9CA7B1FF; /* Gris si "Prix Privée" */
    }

    .property-card-details{
        min-height: 405px;
    }

    .property-features {
    list-style: none;
    padding: 0;
    margin: 10px 0;
    }

    .property-features li {
        font-size: 14px;
        color: #555;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .property-features li i {
        color: #2E495A !important; 
    }
    .property-card3 {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .property-card-details {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .property-btn-wrap {
        margin-top: auto; /* Pousse la div vers le bas */
    }


/* Assurez-vous que chaque image ait une hauteur de 400px */
    .portfolio-card .portfolio-img {
        position: relative;
        width: 100%;
        height: 200px; /* Hauteur fixe de l'image */
        overflow: hidden;
    }

    /* Style pour l'image */
    .portfolio-card .portfolio-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease; /* Effet de zoom au survol */
    }

    /* Style pour l'overlay et le texte */
    .portfolio-card .portfolio-img .overlay {
        position: absolute;
        bottom: 0;
        right: 0; /* Aligne à droite */
        background: rgba(0, 0, 0, 0.5);
        padding: 10px;
        text-align: right;
        width: 100%;
    }

    /* Texte du nom de la ville */
    .portfolio-card .portfolio-img .overlay .city-name {
        color: white;
        font-size: 18px;
        font-weight: bold;
        margin: 0;
    }

    /* Bouton En savoir plus */
    .portfolio-card .portfolio-img .overlay .btn-offer {
        background-color: #1C2D37;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        margin-top: 10px;
    }

    /* Effet de flow et apparition du bouton au survol */
    .portfolio-card .portfolio-img:hover img {
        transform: scale(1.1); /* Zoom effet sur l'image */
    }


    .alert {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 9999;
        padding: 15px;
        color: white;
        border-radius: 5px;
        font-size: 16px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .alert.alert-success {
        background-color: #D6F4D7FF;
        color: #3E8B33FF;
        border-color: #D6F4D7FF;

    }

    .alert.alert-danger {
        color: #a94442;
        background-color: #f2dede;
        border-color: #ebccd1;
    }

    .property-status-badge {
			position: absolute;
			top: 10px;
			left: 10px;
			background-color: red;
			color: white;
			padding: 5px 10px;
			font-size: 14px;
			font-weight: bold;
			border-radius: 20px;
			z-index: 10;  /* Assure-toi qu'il soit au-dessus de l'image */
		}

    .appointment-wrap2 {

    padding: 50px;
}





        
       
        
        .form-control:focus {
            outline: none;
            border-color: #007bff;
        }
        
        .form-control.error {
            border-color: #dc3545;
        }
        
        .form-control.success {
            border-color: #28a745;
        }
        
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        
        
</style>

   <div class="hero-5" id="hero">
        <div class="swiper th-slider hero-slider5" id="heroSlide5" data-slider-options='{"effect":"fade", "autoHeight": "true"}'>
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <div class="hero-inner">
                        <div class="th-hero-bg" data-bg-src="{{ asset('assetsFront/img/hero/hero_bg_5_1.jpg') }}"></div>
                        <div class="container">
                            <div class="row align-items-center justify-content-center">
                                <div class="col-lg-10">
                                    <div class="hero-style5 text-center">
                                        <div class="btn-wrap justify-content-center" data-ani="slideindown" data-ani-delay="0.3s">
                                            <a href="{{ path('app_front_all_biens_vendre')}}" class="th-btn style-border th-btn-icon"> A Vendre</a>
                                            <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border th-btn-icon">Locations</a>
                                            
                                        </div>
                                        <h1 class="hero-title text-white">
                                            <span class="title1" data-ani="slideindown" data-ani-delay="0.3s">
                                                Expérimentez l'harmonie </span>
                                            <span class="title2" data-ani="slideindown" data-ani-delay="0.4s">
                                                entre Luxe et Confort </span>
                                        </h1>
                                        <a href="{{ path('app_front_contact_contact')}}" class="th-btn style4 th-btn-icon" data-ani="slideinup" data-ani-delay="0.6s">Demander une visite</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">  
                    <div class="hero-inner">
                        <div class="th-hero-bg" data-bg-src="{{ asset('assetsFront/img/hero/hero_bg_5_2.jpg') }}"></div>
                        <div class="container">
                            <div class="row align-items-center justify-content-center">
                                <div class="col-lg-10">
                                    <div class="hero-style5 text-center">
                                        <div class="btn-wrap justify-content-center" data-ani="slideindown" data-ani-delay="0.3s">
                                            <a href="{{ path('app_front_all_biens_vendre')}}" class="th-btn style-border th-btn-icon">A Vendre</a>
                                            <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border th-btn-icon">Locations</a>
                                           
                                        </div>
                                        <h1 class="hero-title text-white">
                                            <span class="title1" data-ani="slideindown" data-ani-delay="0.3s">
                                                Élevez votre style de vie où </span>
                                            <span class="title2" data-ani="slideindown" data-ani-delay="0.4s">
                                                Luxe et Confort se rencontrent </span>
                                        </h1>
                                        <a href="{{ path('app_front_contact_contact')}}" class="th-btn style4 th-btn-icon" data-ani="slideinup" data-ani-delay="0.6s">Demander une visite</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-slide">
                    <div class="hero-inner">
                        <div class="th-hero-bg" data-bg-src="{{ asset('assetsFront/img/hero/hero_bg_5_3.jpg') }}"></div>
                        <div class="container">
                            <div class="row align-items-center justify-content-center">
                                <div class="col-lg-10">
                                    <div class="hero-style5 text-center">
                                        <div class="btn-wrap justify-content-center" data-ani="slideindown" data-ani-delay="0.3s">
                                            <a href="{{ path('app_front_all_biens_vendre')}}" class="th-btn style-border th-btn-icon">A Vendre</a>
                                            <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border th-btn-icon">Locations</a>
                                            
                                        </div>
                                        <h1 class="hero-title text-white">
                                            <span class="title1" data-ani="slideindown" data-ani-delay="0.3s">
                                                Découvrez une maison </span>
                                            <span class="title2" data-ani="slideindown" data-ani-delay="0.4s">
                                                confortable et flexible </span>
                                        </h1>
                                        <a href="{{ path('app_front_contact_contact')}}" class="th-btn style4 th-btn-icon" data-ani="slideinup" data-ani-delay="0.6s">Demander une visite</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slider-pagination style4"></div>
        </div>
        <div class="hero-social-link">
            <div class="social-wrap">
                <a href="https://facebook.com/">FACEBOOK</a>
                <a href="https://instagram.com/">INSTAGRAM</a>
                <a href="https://facebook.com/">FACEBOOK</a>
                <a href="https://instagram.com/">INSTAGRAM</a>
            </div>
        </div>
        <div class="scroll-down">
            <a href="#property-sec" class="hero-scroll-wrap"></a>
        </div>
    </div>

    <!--======== / Hero Section ========--><!--==============================
Property Area 2  
==============================-->
    <section class="space-top" id="property-sec">
        <div class="container">
        {% if app.session.flashBag.has('success') %}
            <div id="alert" class="alert alert-success" style="display: none;" role="alert">
                <strong>Succès!</strong> {{ app.session.flashBag.get('success')[0] }}
                <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endif %}

        {% if app.session.flashBag.has('error') %}
            <div id="alert-error" class="alert alert-danger" style="display: none;" role="alert">
                <strong>Erreur!</strong> {{ app.session.flashBag.get('error')[0] }}
                <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endif %}

            <div class="row justify-content-between align-items-center">
                <div class="col-xxl-6 col-lg-8">
                    <div class="title-area">
                        <span class="sub-title">Les récentes propriétés</span>
                        <h2 class="sec-title text-theme">Les nouveautés immobilières</h2>
                        <p class="text-theme">Découvrez les dernières propriétés ajoutées, soigneusement sélectionnées pour vous offrir les meilleures opportunités immobilières. Trouvez la maison, l'appartement , le terrain ou le local commercial qui correspond à vos besoins.</p>
                    </div>
                </div>

                <div class="col-auto">
                    <div class="sec-btn">
                        <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style4 th-btn-icon">Voir toutes les propriétés</a>
                    </div>
                </div>
            </div>

            <div class="slider-area property-slider2 slider-drag-wrap z-index-common">
                <div class="swiper th-slider" data-slider-options='{"breakpoints":{"0":{"slidesPerView":1},"576":{"slidesPerView":"1"},"768":{"slidesPerView":"2"},"992":{"slidesPerView":"2"},"1200":{"slidesPerView":"3"},"1500":{"slidesPerView":"3"}},"spaceBetween":"24","grabCursor":"true","slideToClickedSlide":"true"}'>
                    <div class="swiper-wrapper">
                        {% if biens is empty %}
							<div class="no-result">
								<img src="{{ asset('assetsFront/img/icon/aucun-resultat.png') }}" alt="Aucun résultat" class="no-result-img">
								<h4 style="color:#1C2D37;">Aucun bien disponible pour le moment.</h4>
							</div>
						{% else %}
                            {% for bien in biens %}
                                
                                <div class="swiper-slide">
                                    <div class="property-card3 style-border">
                                        <div class="property-card-thumb img-shine">
                                            {% if bien.disponibilite == 'Louee' %}
                                                <div class="property-status-badge bg-danger text-white">Louée</div>
                                            {% else %}
                                                <!-- Affichage du tag "A Vendre" ou "A Louer" -->
                                                <span class="offer-tag {{ bien.typeOffre == 'A Vendre' ? 'tag-sale' : 'tag-rent' }}">
                                                    {{ bien.typeOffre }}
                                                </span>
                                            {% endif %}

                                            <!-- Nouveau badge pour le nomType -->
                                            <span class="property-type-badge">
                                                {{ bien.type.nomType }}
                                            </span>

                                            <img src="{{ asset('uploads/images_bien/' ~ bien.imageBiens|first.nomImage) }}" alt="Image du bien" style="height:250px; width:100%;">
                                        </div>


                                        <div class="property-card-details">
                                            <h4 class="property-card-title">
                                                <a href="{{ path('app_front_all_biens_details_prop', {'id': bien.id}) }}">{{ bien.nomBien }}</a>
                                            </h4>
                                            <p class="property-card-location">
                                                <i class="far fa-map-marker-alt me-2"></i>
                                                {{ bien.ville.nomVille }}, {{ bien.ville.gouvernorat.nomGouvernorat }}
                                            </p>

                                            
                                            <div class="property-card-meta">
                                                
                                                {% if bien.disponibilite == 'Disponible' %}
                                                    <span class="price-badge {{ bien.afficherPrix ? 'price-visible' : 'price-hidden' }}">
                                                        {% if bien.afficherPrix %}
                                                            {{ bien.prixBien|number_format(0, '', '.') }} {{ bien.typeOffre == 'A Louer' ? 'DT/Mois' : 'DT' }}
                                                        {% else %}
                                                            Prix Privée
                                                        {% endif %}
                                                    </span>
                                                {% endif %}



                                                <span>
                                                    <p class="property-card-type">
                                                        <i class="fas fa-calendar me-2"></i>Publié en : {{ bien.dateCreation|date('y-m-d') }}
                                                    </p>
                                                </span>
                                                

                                            </div>
                                            <div class="property-btn-wrap" style="margin-top:-15px;">
                                                <div class="property-card-meta" >
                                                    {% if bien.detailsProprietes|filter(p => p.afficher) is not empty %}
                                                        <ul class="property-features">
                                                            {% for propriete in bien.detailsProprietes|filter(p => p.afficher) %}
                                                                <li>
                                                                    <i class="fas fa-check-circle text-primary"></i>
                                                                    <strong>
                                                                        {{ propriete.propriete.nomPropriete|slice(0, 15) }}{% if propriete.propriete.nomPropriete|length > 20 %}...{% endif %}:
                                                                    </strong> 
                                                                    {{ propriete.valeurPropriete }}
                                                                </li>
                                                            {% endfor %}
                                                        </ul>
                                                    {% else %}
                                                        <p class="text-muted">Aucun détails de propriété sélectionnée.</p>
                                                    {% endif %}
                                                </div>

                                            </div>
                                            <div class="property-btn-wrap d-flex justify-content-center align-items-center">
                                                <div class="btn-wrap">
                                                    <a href="{{ path('app_front_all_biens_details_prop', {'id': bien.id}) }}" class="th-btn style-border2 th-btn-icon">
                                                        <i class="fas fa-info-circle"></i> Details
                                                    </a>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

    </section>


    <!--==============================
About Area  
==============================-->
    <div class="about-area-6 z-index-common position-relative space" id="about-sec">
        <div class="container">
            <div class="row gx-80 justify-content-between">
                <div class="col-xl-6 mb-50 mb-xl-0">
                    <div class="img-box6">
                        <div class="img1">
                            <img src="{{ asset('assetsFront/img/normal/about_6_1.png') }}" alt="img">
                        </div>
                        <div class="img2">
                            <img src="{{ asset('assetsFront/img/normal/about_6_2.png') }}" alt="img">
                        </div>
                        <div class="about-tag">
                            <div class="about-experience-tag">
                                <span class="circle-title-anime"> HabiLux BiKso</span>
                            </div>
                            <a href="https://www.youtube.com/watch?v=_sI_Ps7JSEk" class="play-btn popup-video"><i class="fa-sharp fa-solid fa-play"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="title-area mb-32">
                        <span class="sub-title">À propos de nous</span>
                        <h2 class="sec-title text-theme">Bienvenue chez HabiLux</h2>
                        <p class="sec-text text-theme">Nous sommes une agence immobilière avec plus de 20 ans d'expertise, et notre objectif principal est de fournir des emplacements exceptionnels à nos partenaires et clients. Dans le marché de l'immobilier de luxe, notre agence offre des solutions personnalisées.</p>
                    </div>
                    <div class="about-wrap2">
                        <div class="checklist style5">
                            <ul>
                                <li>Services immobiliers de qualité</li>
                                <li>Garantie de satisfaction à 100%</li>
                                <li>Équipe hautement professionnelle</li>
                                <li>Traitement toujours à temps</li>
                            </ul>
                        </div>
                        <div class="call-btn">
                            <div class="icon-btn bg-theme">
                                <img src="{{ asset('assetsFront/img/icon/phone.svg') }}" alt="img">
                            </div>
                            <div class="btn-content">
                                <h6 class="btn-title">Appelez-nous 24/7</h6>
                                <span class="btn-text"><a href="tel:+21693313278">+216 93 313 278</a></span><br>
                                <span class="btn-text"><a href="tel:+21690388911">+216 90 388 911</a></span>
                            </div>
                        </div>
                    </div>
                    <div class="btn-wrap mt-40">
                        <!-- Première ligne de photos de profil -->
                        <div class="about-profile-wrap">
                            <div class="about-profile">
                                <div class="avater">
                                    <img src="{{ asset('assetsFront/img/normal/ahmed.png') }}" alt="avater" class="avatar-circle">
                                </div>
                                <div class="media-body">
                                    <h5 class="about-profile-name">Ksontini Ahmed</h5>
                                    <p class="desig">PDG, Fondateur de HabiLux</p>
                                </div>
                            </div>

                            <div class="about-profile">
                                <div class="avater">
                                    <img src="{{ asset('assetsFront/img/normal/bilel.png') }}" alt="avater" class="avatar-circle">
                                </div>
                                <div class="media-body">
                                    <h5 class="about-profile-name">Maghreby Bilel</h5>
                                    <p class="desig">Co-fondateur de HabiLux</p>
                                </div>
                            </div>
                        </div>

                        <!-- Deuxième ligne de photos de signature -->
                        <div class="signature-wrap mt-20">
                            <div class="signature">
                                <img src="{{ asset('assetsFront/img/normal/sinAh.png') }}" alt="img">
                            </div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <div class="signature">
                                <img src="{{ asset('assetsFront/img/normal/sinbi.png') }}" alt="img">
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!--==============================
Counter Area  
==============================-->
    <div class="space bg-theme" data-bg-src="{{ asset('assetsFront/img/bg/award-bg-1-1.png') }}">
    <div class="container">
        <div class="counter-card-wrap">
            <div class="counter-card style4">
                <div class="media-body">
                    <div class="box-icon">
                        <img src="{{ asset('assetsFront/img/icon/maison.png') }}" alt="img">
                    </div>
                    <h2 class="box-number text-white">
                        <span class="counter-number text-white">{{ stats['Appartement']|default(0) }}</span>+
                    </h2>
                    <p class="box-text text-light">Appartements Élégants</p>
                </div>
            </div>
            <div class="counter-card style4">
                <div class="media-body">
                    <div class="box-icon">
                        <img src="{{ asset('assetsFront/img/icon/villa.png') }}" alt="img">
                    </div>
                    <h2 class="box-number text-white">
                        <span class="counter-number text-white">{{ stats['Villa']|default(0) }}</span>+
                    </h2>
                    <p class="box-text text-light">Villas de Luxe</p>
                </div>
            </div>
            <div class="counter-card style4">
                <div class="media-body">
                    <div class="box-icon">
                        <img src="{{ asset('assetsFront/img/icon/entreprise.png') }}" alt="img">
                    </div>
                    <h2 class="box-number text-white">
                        <span class="counter-number text-white">{{ stats['Bureau commercial']|default(0) }}</span>+
                    </h2>
                    <p class="box-text text-light">Bureaux Professionnels</p>
                </div>
            </div>
            <div class="counter-card style4">
                <div class="media-body">
                    <div class="box-icon">
                        <img src="{{ asset('assetsFront/img/icon/terrain.png') }}" alt="img">
                    </div>
                    <h2 class="box-number text-white">
                        <span class="counter-number text-white">{{ stats['Terrain']|default(0) }}</span>+
                    </h2>
                    <p class="box-text text-light">Terrains Disponibles</p>
                </div>
            </div>
            <div class="counter-card style4">
                <div class="media-body">
                    <div class="box-icon">
                        <img src="{{ asset('assetsFront/img/icon/depot.png') }}" alt="img">
                    </div>
                    <h2 class="box-number text-white">
                        <span class="counter-number text-white">{{ stats['Depot']|default(0) }}</span>+
                    </h2>
                    <p class="box-text text-light">Dépôts Spacieux</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!--==============================
RSVP Area  
==============================-->
    <div class="space overflow-hidden">
        <div class="sec-bg-shape2-1 spin shape-mockup d-xl-block d-none" data-top="6%" data-left="4%">
            <img src="{{ asset('assetsFront/img/shape/section_shape_2_1.jpg') }}" alt="img">
        </div>
        <div class="sec-bg-shape2-2 wave-anim shape-mockup d-xl-block d-none" data-bg-src="{{ asset('assetsFront/img/shape/section_shape_2_2.jpg') }}" data-top="25%" data-right="4%">
        </div>
        <div class="sec-bg-shape2-3 jump shape-mockup d-xl-block d-none" data-bottom="0" data-left="3%">
            <img src="{{ asset('assetsFront/img/shape/section_shape_2_3.jpg') }}" alt="img">
        </div>
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-xxl-6 col-lg-8">
                    <div class="title-area">
                        <span class="sub-title">Plus de 745K annonces d'appartements</span>
                        <h2 class="sec-title text-theme">Acheter, Louer & Vendre</h2>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="sec-btn">
                        <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border2 th-btn-icon">Voir toutes les propriétés</a>
                    </div>
                </div>
            </div>
            <div class="row gy-4 justify-content-center">
                <div class="col-lg-4 col-md-6">
                    <div class="rent-card">
                        <div class="box-icon">
                            <img src="{{ asset('assetsFront/img/icon/rent-icon1-1.svg') }}" alt="img">
                        </div>
                        <h4 class="box-title"><a href="{{ path('app_front_all_biens_louer')}}">Acheter une maison</a></h4>
                        <p class="box-text">Trouvez le bien de vos rêves avec Habilux ! Grâce à plus de 35 critères de sélection, nous vous aidons à dénicher la propriété qui correspond parfaitement à vos besoins.</p>
                        <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border th-btn-icon">Trouver une maison</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="rent-card">
                        <div class="box-icon">
                            <img src="{{ asset('assetsFront/img/icon/rent-icon1-2.svg') }}" alt="img">
                        </div>
                        <h4 class="box-title"><a href="{{ path('app_front_all_biens_louer')}}">Louer une maison</a></h4>
                        <p class="box-text">Utilisez plus de 35 critères exclusifs de Habilux et des mots-clés personnalisés pour trouver la location parfaite qui répond à tous vos besoins.</p>
                        <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style-border th-btn-icon">Trouver une maison</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="rent-card">
                        <div class="box-icon">
                            <img src="{{ asset('assetsFront/img/icon/rent-icon1-1.svg') }}" alt="img">
                        </div>
                        <h4 class="box-title"><a href="{{ path('app_front_contact_contact')}}">Vendre une maison</a></h4>
                        <p class="box-text">Avec Habilux, vendez votre bien en toute sérénité grâce à plus de 35 critères de sélection et des mots-clés personnalisés, attirant ainsi les acheteurs les plus qualifiés.</p>
                        <a href="{{ path('app_front_contact_contact')}}" class="th-btn style-border th-btn-icon">Contactez-Nous</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--==============================
Award Area  
==============================-->
    <section class="space overflow-hidden bg-theme position-relative award-area-1" data-bg-src="{{ asset('assetsFront/img/bg/award-bg-1-1.png') }}">
        <div class="container">
            <div class="title-area text-center">
                
                <h2 class="sec-title text-white">Nous-Contacter</h2>
            </div>
            
        </div>
    </section><!--==============================
Contact Area   
==============================-->
    
    <div class="overflow-hidden contact-area-4 z-index-common" data-sec-pos="top-half" data-pos-for=".award-area-1" id="contact-sec">
        <div class="container">
            <div class="contact-wrap4">
                <div class="row g-0">
                    <div class="col-lg-6">
                        <div class="appointment-wrap2 bg-white">
                        

                             <form id="contactForm" action="{{ path('contact') }}" method="POST" class="appointment-form">
                                <div class="row">
                                    <div class="form-group style-border style-radius col-12">
                                        <input type="text" class="form-control" name="name" id="name" placeholder="Votre Nom et prénom*" required>
                                        <i class="fal fa-user"></i>
                                        <div class="error-message" id="name-error"></div>
                                    </div>
                                    <div class="form-group style-border style-radius col-12">
                                        <input type="tel" class="form-control" name="tel" id="tel" placeholder="Votre téléphone*" required>
                                        <i class="fal fa-phone"></i>
                                        <div class="error-message" id="tel-error"></div>
                                    </div>
                                    <div class="form-group style-border style-radius col-12">
                                        <input type="email" class="form-control" name="email" id="email" placeholder="Votre Email*" required>
                                        <i class="fal fa-envelope"></i>
                                        <div class="error-message" id="email-error"></div>
                                    </div>
                                    <div class="col-12 form-group style-border style-radius">
                                        <i class="far fa-comments"></i>
                                        <textarea name="message" class="form-control" id="message" placeholder="Tapez votre message" required></textarea>
                                        <div class="error-message" id="message-error"></div>
                                    </div>
                                     <div class="col-12 form-btn mt-4">
                                        <button type="submit" class="th-btn">Envoyer le message 
                                            <span class="btn-icon"><img src="{{ asset('assetsFront/img/icon/paper-plane.svg') }}" alt="img"></span>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="contact-thumb4-1">
                            <img src="{{ asset('assetsFront/img/normal/contact_thumb_4_1.png') }}" alt="img">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!--==============================
Property Area 4  
==============================-->
    <section class="space overflow-hidden" style="padding: 100px 20px;">
    <div class="sec-bg-shape2-1 spin shape-mockup d-xl-block d-none" data-top="6%" data-left="4%">
        <img src="{{ asset('assetsFront/img/shape/section_shape_2_1.jpg') }}" alt="img">
    </div>
    <div class="sec-bg-shape2-2 wave-anim shape-mockup d-xl-block d-none" data-bg-src="{{ asset('assetsFront/img/shape/section_shape_2_2.jpg') }}" data-top="12%" data-right="4%">
    </div>
    <div class="sec-bg-shape2-3 jump shape-mockup d-xl-block d-none" data-bottom="0" data-left="3%">
        <img src="{{ asset('assetsFront/img/shape/section_shape_2_3.jpg') }}" alt="img">
    </div>
    <div class="container">
        <div class="row justify-content-center align-items-center">
            <div class="col-xxl-6 col-lg-8">
                <div class="title-area text-center">
                    <span class="sub-title">Villes</span>
                    <h2 class="sec-title text-theme">Villes à Explorer</h2>
                    <p class="text-theme">Découvrez les biens disponibles dans ces villes à travers ces images.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid p-lg-0">
        <div class="slider-area project-slider4-1 ">
            <!-- Remplacer swiper par des div fixes pour les cartes -->
            <div class="row">
                {% for ville in ['Hammamet', 'Tunis', 'Sousse', 'Mahdia', 'Monastir'] %}
                    <div class="col-lg-4 col-md-6">
                        <a href="{{ path('app_front_all_biens_par_ville', {'nomVille': ville}) }}" class="portfolio-card style4">
                            <div class="portfolio-img">
                                <img src="{{ asset('assetsFront/img/ville/' ~ ville|lower ~ '.jpg') }}" alt="{{ ville }}">
                                <div class="overlay">
                                    <p class="city-name">{{ ville }}</p>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>

        </div>
        <div class="btn-wrap justify-content-center mt-55">
            <a href="{{ path('app_front_all_biens_louer')}}" class="th-btn style4 th-btn-icon">Voir toutes les propriétés</a>
        </div>
    </div>
</section>




    

<!--==============================
Client Area  
==============================-->
<!--==============================
Client Area  
==============================-->
<div class="client-area-4 space bg-theme overflow-hidden" data-bg-src="{{ asset('assetsFront/img/bg/award-bg-1-1.png') }}">
    <div class="container">
        <div class="row align-items-center text-center justify-content-center">
            <!-- Colonne QR Code -->
            <div class="col-lg-6 col-md-8">
                <h3 class="text-white mb-3">Scannez le QR Code</h3>
                <p class="text-white mb-4">Accédez rapidement à notre application mobile.</p>
                <img src="{{ asset('assetsFront/img/frame (1).png') }}" alt="QR Code" style="max-width: 150px;" class="img-fluid">
            </div>
        </div>
    </div>
</div>


    <section class="space overflow-hidden" id="team-sec">
        <div class="sec-bg-shape2-3 jump shape-mockup d-xxl-block d-none" data-top="15%" data-right="4%">
            <img src="{{ asset('assetsFront/img/shape/section_shape_2_3.jpg') }}" alt="img">
        </div>
        <div class="sec-bg-shape2-1 spin shape-mockup d-xxl-block d-none" data-bottom="15%" data-left="4%">
            <img src="{{ asset('assetsFront/img/shape/section_shape_2_1.jpg') }}" alt="img">
        </div>
        <div class="container">
            <div class="row justify-content-lg-between align-items-center">
                <div class="col-xxl-5 col-lg-6">
                    <div class="title-area">
                        <span class="sub-title">Membre de l'équipe</span>
                        <h2 class="sec-title text-theme">Notre Équipe Géniale</h2>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="sec-btn">
                        <a href="{{ path('app_front_team_team')}}" class="th-btn style-border2 th-btn-icon">Voir Toute l'Équipe</a>
                    </div>
                </div>
            </div>

            <div class="slider-area team-slider3">
                <div class="swiper th-slider slider-drag-wrap" id="teamSlider3" data-slider-options='{"breakpoints": {"0": {"slidesPerView": 1},"576": {"slidesPerView": "1"},"768": {"slidesPerView": "2"},"992": {"slidesPerView": "3"},"1400": {"slidesPerView": "3"}},"grabCursor": "true"}'>
                    <div class="swiper-wrapper">
                        {% for admin in admins %}
                            <div class="swiper-slide">
                                <div class="th-team team-card style3">
                                    <div class="img-wrap">
                                        <div class="team-img">
                                            <!-- Afficher la photo de profil dynamique -->
                                            <img src="{{ asset('uploads/photo_profil/' ~ admin.photoProfil) }}" alt="Team" style="width: 100%; height: 450px; object-fit: cover;">
                                        </div>
                                        <div class="th-social-wrap">
                                            <div class="th-social">
                                                <!-- Liens sociaux dynamiques -->
                                                <a target="_blank" href="{{ admin.facebook }}"><i class="fab fa-facebook-f"></i></a>
                                                <a target="_blank" href="{{ admin.linkedin }}"><i class="fab fa-linkedin-in"></i></a>
                                                <a target="_blank" href="{{ admin.instagram }}"><i class="fab fa-instagram"></i></a>
                                            </div>
                                            <a class="icon-btn" href="{{ path('app_front_team_detail_team', { 'id': admin.id }) }}">
                                                <img src="{{ asset('assetsFront/img/icon/arrow-right.svg') }}" alt="img">
                                            </a>
                                        </div>
                                    </div>
                                    <div class="team-card-content">
                                        <div class="media-left">
                                            <!-- Nom dynamique -->
                                            <h3 class="box-title"><a href="team-details.html">{{ admin.nom }} {{ admin.prenom }}</a></h3>
                                            <span class="team-desig">{{ admin.poste is iterable ? admin.poste|join(', ') : admin.poste }}</span>
                                        </div>
                                        <!-- Lien téléphone dynamique -->
                                        <a class="icon-btn" href="tel:{{ admin.tel }}"><img src="{{ asset('assetsFront/img/icon/phone.svg') }}" alt="img"></a>
                                    </div>
                                        <!-- Champ caché pour stocker l'ID -->
                                        <input type="hidden" name="id" value="{{ admin.id }}">
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
    


    <!-- style notification -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script type="text/javascript">
    // Lorsque la page est prête
    $(document).ready(function() {
        // Si un message flash 'success' est présent
        if ($('#alert').length) {
            // Afficher l'alerte avec fadeIn
            $('#alert').fadeIn(500).delay(5000).fadeOut(500); // 5 secondes d'affichage
        }
    });
</script>

<script>
        // Fonction pour afficher un message d'erreur
        function showError(fieldId, message) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + '-error');
            
            field.classList.add('error');
            field.classList.remove('success');
            errorElement.textContent = message;
            errorElement.classList.add('show');
        }

        // Fonction pour masquer un message d'erreur
        function hideError(fieldId) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + '-error');
            
            field.classList.remove('error');
            field.classList.add('success');
            errorElement.classList.remove('show');
        }

        // Validation du nom (ne doit pas contenir de chiffres)
        function validateName(name) {
            if (name.trim() === '') {
                return 'Le nom et prénom sont obligatoires';
            }
            if (/\d/.test(name)) {
                return 'Le nom ne doit pas contenir de chiffres';
            }
            return '';
        }

        // Validation du téléphone
        function validatePhone(phone) {
            if (phone.trim() === '') {
                return 'Le numéro de téléphone est obligatoire';
            }
            if (!/^\d+$/.test(phone.trim())) {
                return 'Le numéro de téléphone ne doit contenir que des chiffres';
            }
            return '';
        }

        // Validation de l'email
        function validateEmail(email) {
            if (email.trim() === '') {
                return 'L\'email est obligatoire';
            }
            
            // Vérifier si l'email contient @
            if (!email.includes('@')) {
                return 'L\'email doit contenir le symbole @';
            }
            
            // Vérifier si l'email se termine par .com, .fr, etc.
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                return 'Format d\'email invalide (exemple: nom@domaine.com)';
            }
            
            return '';
        }

        // Validation du message
        function validateMessage(message) {
            if (message.trim() === '') {
                return 'Le message est obligatoire';
            }
            return '';
        }

        // Fonction pour valider un champ spécifique
        function validateField(fieldId) {
            const field = document.getElementById(fieldId);
            const value = field.value;
            let errorMessage = '';

            switch(fieldId) {
                case 'name':
                    errorMessage = validateName(value);
                    break;
                case 'tel':
                    errorMessage = validatePhone(value);
                    break;
                case 'email':
                    errorMessage = validateEmail(value);
                    break;
                case 'message':
                    errorMessage = validateMessage(value);
                    break;
            }

            if (errorMessage) {
                showError(fieldId, errorMessage);
                return false;
            } else {
                hideError(fieldId);
                return true;
            }
        }

        // Attendre que le DOM soit chargé
        document.addEventListener('DOMContentLoaded', function() {
            
            // Ajouter les événements de validation sur blur (quand l'utilisateur quitte le champ)
            document.getElementById('name').addEventListener('blur', function() {
                validateField('name');
            });

            document.getElementById('tel').addEventListener('blur', function() {
                validateField('tel');
            });

            document.getElementById('email').addEventListener('blur', function() {
                validateField('email');
            });

            document.getElementById('message').addEventListener('blur', function() {
                validateField('message');
            });

            // Validation en temps réel pour le nom (pour empêcher la saisie de chiffres)
            document.getElementById('name').addEventListener('input', function() {
                if (this.value !== '') {
                    validateField('name');
                }
            });

            // Validation en temps réel pour le téléphone (pour empêcher la saisie de lettres)
            document.getElementById('tel').addEventListener('input', function() {
                // Supprimer tous les caractères non numériques pendant la saisie
                this.value = this.value.replace(/[^0-9]/g, '');
                
                if (this.value !== '') {
                    validateField('tel');
                }
            });

            // Validation en temps réel pour l'email
            document.getElementById('email').addEventListener('input', function() {
                if (this.value !== '') {
                    validateField('email');
                }
            });

            // Gestion de la soumission du formulaire
            document.getElementById('contactForm').addEventListener('submit', function(e) {
                // Empêcher la soumission par défaut
                e.preventDefault();
                
                // Valider tous les champs
                const isNameValid = validateField('name');
                const isTelValid = validateField('tel');
                const isEmailValid = validateField('email');
                const isMessageValid = validateField('message');
                
                // Si tous les champs sont valides, permettre la soumission
                if (isNameValid && isTelValid && isEmailValid && isMessageValid) {
                    // Retirer le preventDefault et soumettre le formulaire
                    this.submit();
                } else {
                    // Faire défiler vers le premier champ avec erreur
                    const firstErrorField = document.querySelector('.form-control.error');
                    if (firstErrorField) {
                        firstErrorField.focus();
                        firstErrorField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            });

            // Réinitialiser les styles au focus
            document.querySelectorAll('.form-control').forEach(function(field) {
                field.addEventListener('focus', function() {
                    this.classList.remove('error', 'success');
                });
            });
            
        });
    </script>
{% endblock %}
